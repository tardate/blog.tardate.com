---
layout: post
title: Config Files for Windows - an Enhancement
date: '2008-05-25T23:23:00.005+08:00'
author: Paul Gallagher
tags:
- Scripting
modified_time: '2008-05-25T23:33:28.574+08:00'
blogger_id: tag:blogger.com,1999:blog-6220586.post-757330842610644080
blogger_orig_url: http://blog.tardate.com/2008/05/config-files-for-windows-enhancement.html
---

In a <a href="/2008/05/configuration-files-pattern-for-windows.html">previous post</a>, I described a general scheme for managing config files for Windows.<br /><br />Well, there's a simple enhancement that I've added concerning how to locate the config file for the script in question.<br /><br />The issue is that if I run a script, you always wanted to look for the config file relative to the script location. This can be easily done using <a href="http://technet2.microsoft.com/windowsserver/en/library/97731e49-ffa3-4918-87fb-5318743f29321033.mspx?mfr=true">Windows Batch Parameter Expansion</a>. <span class="code">%~dp0</span> expands to the path of the current script, and <span class="code">%~n0</span> is the name of the script file. Hence, to name the appropriate config file for a script, we generate the name as follows:<br /><br /><blockquote class="code">set LOCALCONF=%~dp0conf\%~n0-%COMPUTERNAME%.cmd</blockquote>